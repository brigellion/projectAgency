(()=>{"use strict";const e=({timing:e,draw:t,duration:o})=>{let r=performance.now();requestAnimationFrame((function l(n){let a=(n-r)/o;a>1&&(a=1);let s=e(a);t(s),a<1&&requestAnimationFrame(l)}))},t=(t,o,r,l)=>{const n=document.querySelector(t),a=document.querySelector(".overlay");1==l?document.querySelector(o).addEventListener("click",(t=>{t.target.closest(".fancyboxModal")&&(n.style.display="block",a.style.display="block",e({duration:1e3,timing:e=>e,draw(e){n.style.opacity=e,a.style.opacity=e}}))})):document.querySelectorAll(o).forEach((t=>{t.addEventListener("click",(t=>{t.target.closest(".fancyboxModal")&&(n.style.display="block",a.style.display="block",e({duration:1e3,timing:e=>e,draw(e){n.style.opacity=e,a.style.opacity=e}}))}))})),n.addEventListener("click",(e=>{e.target.closest(r)&&(n.style.display="none",a.style.display="none")})),a.addEventListener("click",(e=>{n.style.display="none",a.style.display="none"}))},o=e=>{const t=document.querySelector(e);function o(e){e.style.border="5px solid red",setTimeout((()=>{e.style.border=""}),2e3)}try{if(!t)throw new Error("Верните форму на место");t.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=t.querySelectorAll("input"),r=new FormData(t),l={};if(r.forEach(((e,t)=>{l[t]=e})),"Балконы"==l.page){const e=document.querySelector("#calc-total");if(!e.value)return document.querySelector("#calc").scrollIntoView({behavior:"smooth"}),void alert("Воспользуйтесь калькулятором!");l.calcPrice=e.value}var n;(e=>{let t,r=!0;for(let l=0;l<e.length;l++)if("phone"===e[l].name){if(t=/^[\+\d]{1,16}$/,!t.test(e[l].value)){o(e[l]),r=!1;break}}else if("fio"===e[l].name&&(t=/^[а-яА-ЯЁ-ёA-Za-z]{1,}$/,!t.test(e[l].value))){o(e[l]),r=!1;break}return r})(e)&&(n=l,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{e.forEach((e=>{e.value=""}))})).then((t=>{e.forEach((e=>{e.value=""}))})).catch((e=>{console.log("Data-Form-Error",e)}))})()}))}catch(e){console.log(e.message)}},r=(e,t,o,r,l)=>{const n=document.getElementById(e),a=n.querySelectorAll(t);n&&0!=a.length?(a.forEach(((e,t)=>{t>o-1?e.classList.add("no-active"):e.classList.add("active")})),n.addEventListener("click",(e=>{e.preventDefault(),(e.target.closest(r)||e.target.closest(l))&&a.forEach((e=>{e.classList.toggle("no-active"),e.classList.toggle("active")}))}))):console.warn("нет класса слайдера/слайдов!")},l=(e,t,o,r)=>{const l=document.getElementById(e),n=l.querySelectorAll(t);let a=0;l&&0!=n.length?(n.forEach(((e,t)=>{e.style.display=t===a?"block":"none"})),l.addEventListener("click",(e=>{e.preventDefault(),e.target.closest(o)?(n[a].style.display="none",a++,a>=n.length&&(a=0),n[a].style.display="block"):e.target.closest(r)&&(n[a].style.display="none",a--,a<0&&(a=n.length-1),n[a].style.display="block")}))):console.warn("нет класса слайдера/слайдов!")},n=(e,t)=>{const o=document.querySelector(`#${t}`),r=o.querySelector(".count_1 > span"),l=o.querySelector(".count_2 > span"),n=o.querySelector(".count_3 > span"),a=o.querySelector(".count_4 > span"),s=e=>e<10?"0"+e:e;function c(){let t=(()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3;return{timeRemaining:t,days:Math.floor(t/60/60/24),hours:Math.floor(t/60/60%24),minutes:Math.floor(t/60%60),seconds:Math.floor(t%60)}})();t.seconds>=0&&(r.textContent=t.days,l.textContent=s(t.hours),n.textContent=s(t.minutes),a.textContent=s(t.seconds),t.timeRemaining<0&&clearInterval(i))}c();let i=setInterval(c,500)};t(".header-modal",".button",".header-modal__close",1),t(".services-modal",".service-button",".services-modal__close",4),document.documentElement.clientWidth>576?(r("benefits",".benefits__item",3,".benefits__arrow--right",".benefits__arrow--left"),r("services",".service-block",2,".services__arrow--right",".services__arrow--left")):(l("benefits",".benefits__item",".benefits__arrow--right",".benefits__arrow--left"),l("services",".service-block",".services__arrow--right",".services__arrow--left")),n("10 march 2022","order_1"),n("10 march 2022","order_2"),(()=>{const e=document.querySelector(".order-form form[name=action-form]").querySelector("input[name=fio]"),t=document.querySelector(".order-form form[name=action-form]").querySelector("input[name=phone]"),o=document.querySelector(".order-form form[name=action-form2]").querySelector("input[name=fio]"),r=document.querySelector(".order-form form[name=action-form2]").querySelector("input[name=phone]"),l=e=>{e.preventDefault(),e.target.value=e.target.value.replace(/[^а-яА-ЯЁ-ёA-Za-z]/,"")},n=e=>{e.preventDefault(),e.target.value=e.target.value.replace(/[^\+\d]/,"").substr(0,16)};e.addEventListener("input",l),t.addEventListener("input",n),o.addEventListener("input",l),r.addEventListener("input",n)})(),o(".order-form form[name=action-form]"),o(".order-form form[name=action-form2]"),(()=>{const e=document.querySelector("#documents"),t=document.createElement("div"),o=document.createElement("img");t.setAttribute("id","myModal"),t.classList.add("modal"),t.innerHTML='<span class="close">X</span>',o.classList.add("modal-content"),e.addEventListener("click",(r=>{if(r.preventDefault(),r.target.closest(".sertificate-document")){const l=r.target.closest(".sertificate-document").href;o.src=l,e.appendChild(t),t.appendChild(o),t.style.display="block",console.log(t)}})),t.addEventListener("click",(e=>{e.target.closest(".close")&&(t.style.display="none")}))})(),(()=>{const e=document.querySelector(".smooth-scroll");e.style.display="none",window.addEventListener("scroll",(()=>{let t=window.pageYOffset,o=document.documentElement.clientHeight;t>o&&(e.style.display="block"),t<o&&(e.style.display="none")}));const t=()=>{window.pageYOffset>0&&(window.scrollBy(0,-80),setTimeout(t,2))};e.addEventListener("click",t)})(),"Остекление балконов и лоджий"===document.title&&(()=>{const e=document.querySelector("#calc"),t=document.querySelector("#calc-type"),o=document.querySelector("#calc-type-material"),r=document.querySelector("#calc-input"),l=document.querySelector("#calc-total"),n=e=>{e.style.border="5px solid red",setTimeout((()=>{e.style.border=""}),2e3)};var a;e.addEventListener("input",(a=e=>{e.target!==t&&e.target!==o&&e.target!==r||(()=>{if(+t.options[t.selectedIndex].value&&+o.options[t.selectedIndex].value&&0!=+r.value){let n=+r.value*+t.options[t.selectedIndex].value*o.options[o.selectedIndex].value;l.value=Math.round(1e3*n),(e=l).style.border="5px solid green",setTimeout((()=>{e.style.border=""}),2e3)}else+t.options[t.selectedIndex].value||n(t),+o.options[o.selectedIndex].value||n(o),0==+r.value&&n(r),l.value="";var e})()},500,function(e){let t=this.lastCall;this.lastCall=Date.now(),t&&this.lastCall-t<=500&&clearTimeout(this.lastCallTimer),this.lastCallTimer=setTimeout((()=>a(e)),500)})),r.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^\d]/,"")}))})()})();